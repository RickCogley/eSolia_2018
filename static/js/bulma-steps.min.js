!function(global,factory){if("function"==typeof define&&define.amd)define([],factory);else if("undefined"!=typeof exports)factory();else{var mod={exports:{}};factory(),global.bulmaSteps=mod.exports}}(this,function(){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),bulmaSteps=function(){var MOUSE_EVENTS=["click","touchstart"],StepsWizard=function(){function StepsWizard(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,StepsWizard),this.options=Object.assign({},{selector:".step-item",selector_content:".step-content",previous_selector:'[data-nav="previous"]',next_selector:'[data-nav="next"]',active_class:"is-active",completed_class:"is-completed",beforeNext:null,onShow:null,onFinish:null,onError:null},options),this.element=element,this.steps=element.querySelectorAll(this.options.selector),this.contents=element.querySelectorAll(this.options.selector_content),this.previous_btn=element.querySelector(this.options.previous_selector),this.next_btn=element.querySelector(this.options.next_selector),this.init()}return _createClass(StepsWizard,[{key:"init",value:function init(){for(var i=0;i<this.steps.length;i++){this.steps[i].setAttribute("data-step-id",i)}this.bind(),this.start()}},{key:"bind",value:function bind(){var _this2=this,_this=this;null!=this.previous_btn&&MOUSE_EVENTS.forEach(function(event){_this2.previous_btn.addEventListener(event,function(e){e.preventDefault(),e.target.getAttribute("disabled")||_this.previous_step()})}),null!=this.next_btn&&MOUSE_EVENTS.forEach(function(event){_this2.next_btn.addEventListener(event,function(e){e.preventDefault(),e.target.getAttribute("disabled")||_this.next_step()})})}},{key:"start",value:function start(){this.activate_step(0),this.updateActions(this.steps[0])}},{key:"get_current_step_id",value:function get_current_step_id(){for(var i=0;i<this.steps.length;i++){var step=this.steps[i];if(step.classList.contains(this.options.active_class))return parseInt(step.getAttribute("data-step-id"))}return null}},{key:"updateActions",value:function updateActions(step){var stepId=parseInt(step.getAttribute("data-step-id"));0==stepId?(null!=this.previous_btn&&this.previous_btn.setAttribute("disabled","disabled"),null!=this.next_btn&&this.next_btn.removeAttribute("disabled","disabled")):stepId==this.steps.length-1?(null!=this.previous_btn&&this.previous_btn.removeAttribute("disabled","disabled"),null!=this.next_btn&&this.next_btn.setAttribute("disabled","disabled")):(null!=this.previous_btn&&this.previous_btn.removeAttribute("disabled","disabled"),null!=this.next_btn&&this.next_btn.removeAttribute("disabled","disabled"))}},{key:"next_step",value:function next_step(){var current_id=this.get_current_step_id();if(null!=current_id){var next_id=current_id+1,errors=[];if(void 0!==this.options.beforeNext&&null!=this.options.beforeNext&&this.options.beforeNext&&(errors=this.options.beforeNext(current_id)),void 0===errors&&(errors=[]),errors.length>0)for(var i=0;i<errors.length;i++)void 0!==this.options.onError&&null!=this.options.onError&&this.options.onError&&this.options.onError(errors[i]);else next_id>=this.steps.length?(void 0!==this.options.onFinish&&null!=this.options.onFinish&&this.options.onFinish&&this.options.onFinish(current_id),this.deactivate_step(current_id)):(this.complete_step(current_id),this.activate_step(next_id))}}},{key:"previous_step",value:function previous_step(){var current_id=this.get_current_step_id();null!=current_id&&(this.uncomplete_step(current_id-1),this.activate_step(current_id-1))}},{key:"activate_step",value:function activate_step(step_id){this.updateActions(this.steps[step_id]);for(var i=0;i<this.steps.length;i++){this.steps[i]!=this.steps[step_id]&&this.deactivate_step(i)}this.steps[step_id].classList.add(this.options.active_class),void 0!==this.contents[step_id]&&this.contents[step_id].classList.add(this.options.active_class),void 0!==this.options.onShow&&null!=this.options.onShow&&this.options.onShow&&this.options.onShow(step_id)}},{key:"complete_step",value:function complete_step(step_id){this.steps[step_id].classList.add(this.options.completed_class)}},{key:"uncomplete_step",value:function uncomplete_step(step_id){this.steps[step_id].classList.remove(this.options.completed_class)}},{key:"deactivate_step",value:function deactivate_step(step_id){this.steps[step_id].classList.remove(this.options.active_class),void 0!==this.contents[step_id]&&this.contents[step_id].classList.remove(this.options.active_class)}}]),StepsWizard}();return document.addEventListener("DOMContentLoaded",function(){var stepsContainers=document.querySelectorAll(".steps");[].forEach.call(stepsContainers,function(stepsContainer){var stepsWizard=new StepsWizard(stepsContainer)})}),StepsWizard}()}),function(global,factory){if("function"==typeof define&&define.amd)define([],factory);else if("undefined"!=typeof exports)factory();else{var mod={exports:{}};factory(),global.bulmaSteps=mod.exports}}(this,function(){"use strict"});
//# sourceMappingURL=./bulma-steps.min.js.map