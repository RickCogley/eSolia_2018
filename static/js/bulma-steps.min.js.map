{"version":3,"sources":["../../src/bulma/bower_components/bulma-steps/dist/bulma-steps.js"],"names":["bulmaSteps","MOUSE_EVENTS","StepsWizard","element","arguments","length","undefined","options","_classCallCheck","this","Object","assign","selector","selector_content","previous_selector","next_selector","active_class","completed_class","beforeNext","onShow","onFinish","onError","steps","querySelectorAll","contents","previous_btn","querySelector","next_btn","init","_createClass","key","value","i","setAttribute","bind","start","_this2","_this","forEach","event","addEventListener","e","preventDefault","target","getAttribute","previous_step","next_step","activate_step","updateActions","get_current_step_id","step","classList","contains","parseInt","stepId","removeAttribute","current_id","next_id","errors","deactivate_step","complete_step","uncomplete_step","step_id","add","remove","document","stepsContainers","call","stepsContainer","stepsWizard"],"mappings":"m2BAAIA,WAAc,WAGlB,GAAMC,eAAgB,QAAS,cAEzBC,YALwB,WAM5B,QAAAA,eAA0C,GAA9BC,SAA8BC,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,GAApB,KAAMG,QAAcH,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,KAAAI,iBAAAC,KAAAP,aACxCO,KAAKF,QAAUG,OAAOC,WACpBC,SAAY,aACZC,iBAAoB,gBACpBC,kBAAqB,wBACrBC,cAAiB,oBACjBC,aAAgB,YAChBC,gBAAmB,eACnBC,WAAc,KACdC,OAAU,KACVC,SAAY,KACZC,QAAW,MACVd,SAEHE,KAAKN,QAAUA,QACfM,KAAKa,MAAQnB,QAAQoB,iBAAiBd,KAAKF,QAAQK,UACnDH,KAAKe,SAAWrB,QAAQoB,iBAAiBd,KAAKF,QAAQM,kBACtDJ,KAAKgB,aAAetB,QAAQuB,cAAcjB,KAAKF,QAAQO,mBACvDL,KAAKkB,SAAWxB,QAAQuB,cAAcjB,KAAKF,QAAQQ,eAEnDN,KAAKmB,OA1BqB,MAAAC,cAAA3B,cAAA4B,IAAA,OAAAC,MAAA,QAAAH,QA8B1B,IAAK,GAAII,GAAI,EAAGA,EAAIvB,KAAKa,MAAMjB,OAAQ2B,IAAK,CAC/BvB,KAAKa,MAAMU,GAEjBC,aAAa,eAAgBD,GAGpCvB,KAAKyB,OAELzB,KAAK0B,WAtCqBL,IAAA,OAAAC,MAAA,QAAAG,QAyCrB,GAAAE,QAAA3B,KACD4B,MAAQ5B,IAEa,OAArBA,KAAKgB,cACPxB,aAAaqC,QAAQ,SAACC,OACpBH,OAAKX,aAAae,iBAAiBD,MAAO,SAASE,GACjDA,EAAEC,iBACGD,EAAEE,OAAOC,aAAa,aACzBP,MAAMQ,oBAMO,MAAjBpC,KAAKkB,UACP1B,aAAaqC,QAAQ,SAACC,OACpBH,OAAKT,SAASa,iBAAiBD,MAAO,SAASE,GAC7CA,EAAEC,iBACGD,EAAEE,OAAOC,aAAa,aACzBP,MAAMS,mBA5DYhB,IAAA,QAAAC,MAAA,QAAAI,SAoE1B1B,KAAKsC,cAAc,GACnBtC,KAAKuC,cAAcvC,KAAKa,MAAM,OArEJQ,IAAA,sBAAAC,MAAA,QAAAkB,uBAyE1B,IAAK,GAAIjB,GAAI,EAAGA,EAAIvB,KAAKa,MAAMjB,OAAQ2B,IAAK,CAC1C,GAAIkB,MAAOzC,KAAKa,MAAMU,EAEtB,IAAIkB,KAAKC,UAAUC,SAAS3C,KAAKF,QAAQS,cACvC,MAAOqC,UAASH,KAAKN,aAAa,iBAItC,MAAO,SAjFmBd,IAAA,gBAAAC,MAAA,QAAAiB,eAoFdE,MACZ,GAAII,QAASD,SAASH,KAAKN,aAAa,gBAC1B,IAAVU,QACuB,MAArB7C,KAAKgB,cACPhB,KAAKgB,aAAaQ,aAAa,WAAY,YAExB,MAAjBxB,KAAKkB,UACPlB,KAAKkB,SAAS4B,gBAAgB,WAAY,aAEnCD,QAAW7C,KAAKa,MAAMjB,OAAS,GACf,MAArBI,KAAKgB,cACPhB,KAAKgB,aAAa8B,gBAAgB,WAAY,YAE3B,MAAjB9C,KAAKkB,UACPlB,KAAKkB,SAASM,aAAa,WAAY,cAGhB,MAArBxB,KAAKgB,cACPhB,KAAKgB,aAAa8B,gBAAgB,WAAY,YAE3B,MAAjB9C,KAAKkB,UACPlB,KAAKkB,SAAS4B,gBAAgB,WAAY,gBAzGpBzB,IAAA,YAAAC,MAAA,QAAAe,aA+G1B,GAAIU,YAAa/C,KAAKwC,qBAEtB,IAAkB,MAAdO,WAAJ,CAIA,GAAIC,SAAUD,WAAa,EACzBE,SAUF,QARsC,KAA3BjD,KAAKF,QAAQW,YAAwD,MAA3BT,KAAKF,QAAQW,YAAsBT,KAAKF,QAAQW,aACnGwC,OAASjD,KAAKF,QAAQW,WAAWsC,iBAGd,KAAVE,SACTA,WAGEA,OAAOrD,OAAS,EAClB,IAAK,GAAI2B,GAAI,EAAGA,EAAI0B,OAAOrD,OAAQ2B,QACE,KAAxBvB,KAAKF,QAAQc,SAAkD,MAAxBZ,KAAKF,QAAQc,SAAmBZ,KAAKF,QAAQc,SAC7FZ,KAAKF,QAAQc,QAAQqC,OAAO1B,QAO9ByB,UAAWhD,KAAKa,MAAMjB,YACY,KAAzBI,KAAKF,QAAQa,UAAoD,MAAzBX,KAAKF,QAAQa,UAAoBX,KAAKF,QAAQa,UAC/FX,KAAKF,QAAQa,SAASoC,YAExB/C,KAAKkD,gBAAgBH,cAErB/C,KAAKmD,cAAcJ,YACnB/C,KAAKsC,cAAcU,cAjJK3B,IAAA,gBAAAC,MAAA,QAAAc,iBAsJ1B,GAAIW,YAAa/C,KAAKwC,qBACJ,OAAdO,aAIJ/C,KAAKoD,gBAAgBL,WAAa,GAClC/C,KAAKsC,cAAcS,WAAa,OA5JN1B,IAAA,gBAAAC,MAAA,QAAAgB,eAmKde,SACZrD,KAAKuC,cAAcvC,KAAKa,MAAMwC,SAE9B,KAAK,GAAI9B,GAAI,EAAGA,EAAIvB,KAAKa,MAAMjB,OAAQ2B,IAAK,CAC9BvB,KAAKa,MAAMU,IAEVvB,KAAKa,MAAMwC,UAIxBrD,KAAKkD,gBAAgB3B,GAGvBvB,KAAKa,MAAMwC,SAASX,UAAUY,IAAItD,KAAKF,QAAQS,kBACT,KAA3BP,KAAKe,SAASsC,UACvBrD,KAAKe,SAASsC,SAASX,UAAUY,IAAItD,KAAKF,QAAQS,kBAGlB,KAAvBP,KAAKF,QAAQY,QAAgD,MAAvBV,KAAKF,QAAQY,QAAkBV,KAAKF,QAAQY,QAC3FV,KAAKF,QAAQY,OAAO2C,YAtLIhC,IAAA,gBAAAC,MAAA,QAAA6B,eA0LdE,SACZrD,KAAKa,MAAMwC,SAASX,UAAUY,IAAItD,KAAKF,QAAQU,oBA3LrBa,IAAA,kBAAAC,MAAA,QAAA8B,iBA8LZC,SACdrD,KAAKa,MAAMwC,SAASX,UAAUa,OAAOvD,KAAKF,QAAQU,oBA/LxBa,IAAA,kBAAAC,MAAA,QAAA4B,iBAkMZG,SACdrD,KAAKa,MAAMwC,SAASX,UAAUa,OAAOvD,KAAKF,QAAQS,kBACZ,KAA3BP,KAAKe,SAASsC,UACvBrD,KAAKe,SAASsC,SAASX,UAAUa,OAAOvD,KAAKF,QAAQS,kBArM7Bd,cAiN9B,OAPA+D,UAASzB,iBAAiB,mBAAoB,WAC5C,GAAI0B,iBAAkBD,SAAS1C,iBAAiB,aAC7Ce,QAAQ6B,KAAKD,gBAAiB,SAACE,gBAChC,GAAIC,aAAc,GAAInE,aAAYkE,oBAI/BlE","file":"bulma-steps.min.js","sourcesContent":["var bulmaSteps = (function () {\n'use strict';\n\nconst MOUSE_EVENTS = ['click', 'touchstart'];\n\nclass StepsWizard {\n  constructor(element = null, options = {}) {\n    this.options = Object.assign({}, {\n      'selector': '.step-item',\n      'selector_content': '.step-content',\n      'previous_selector': '[data-nav=\"previous\"]',\n      'next_selector': '[data-nav=\"next\"]',\n      'active_class': 'is-active',\n      'completed_class': 'is-completed',\n      'beforeNext': null,\n      'onShow': null,\n      'onFinish': null,\n      'onError': null\n    }, options);\n\n    this.element = element;\n    this.steps = element.querySelectorAll(this.options.selector);\n    this.contents = element.querySelectorAll(this.options.selector_content);\n    this.previous_btn = element.querySelector(this.options.previous_selector);\n    this.next_btn = element.querySelector(this.options.next_selector);\n\n    this.init();\n  }\n\n  init() {\n    for (var i = 0; i < this.steps.length; i++) {\n      var step = this.steps[i];\n\n      step.setAttribute('data-step-id', i);\n    }\n\n    this.bind();\n\n    this.start();\n  }\n\n  bind() {\n    var _this = this;\n\n    if (this.previous_btn != null) {\n      MOUSE_EVENTS.forEach((event) => {\n        this.previous_btn.addEventListener(event, function(e) {\n          e.preventDefault();\n          if (!e.target.getAttribute('disabled')) {\n            _this.previous_step();\n          }\n        });\n      });\n    }\n\n    if (this.next_btn != null) {\n      MOUSE_EVENTS.forEach((event) => {\n        this.next_btn.addEventListener(event, function(e) {\n          e.preventDefault();\n          if (!e.target.getAttribute('disabled')) {\n            _this.next_step();\n          }\n        });\n      });\n    }\n  }\n\n  start() {\n    this.activate_step(0);\n    this.updateActions(this.steps[0]);\n  }\n\n  get_current_step_id() {\n    for (var i = 0; i < this.steps.length; i++) {\n      var step = this.steps[i];\n\n      if (step.classList.contains(this.options.active_class)) {\n        return parseInt(step.getAttribute('data-step-id'));\n      }\n    }\n\n    return null;\n  }\n\n  updateActions(step) {\n    var stepId = parseInt(step.getAttribute('data-step-id'));\n    if (stepId == 0) {\n      if (this.previous_btn != null) {\n        this.previous_btn.setAttribute('disabled', 'disabled');\n      }\n      if (this.next_btn != null) {\n        this.next_btn.removeAttribute('disabled', 'disabled');\n      }\n    } else if (stepId == (this.steps.length - 1)) {\n      if (this.previous_btn != null) {\n        this.previous_btn.removeAttribute('disabled', 'disabled');\n      }\n      if (this.next_btn != null) {\n        this.next_btn.setAttribute('disabled', 'disabled');\n      }\n    } else {\n      if (this.previous_btn != null) {\n        this.previous_btn.removeAttribute('disabled', 'disabled');\n      }\n      if (this.next_btn != null) {\n        this.next_btn.removeAttribute('disabled', 'disabled');\n      }\n    }\n  }\n\n  next_step() {\n    var current_id = this.get_current_step_id();\n\n    if (current_id == null) {\n      return;\n    }\n\n    var next_id = current_id + 1,\n      errors = [];\n\n    if (typeof this.options.beforeNext != 'undefined' && this.options.beforeNext != null && this.options.beforeNext) {\n      errors = this.options.beforeNext(current_id);\n    }\n\n    if (typeof errors == 'undefined') {\n      errors = [];\n    }\n\n    if (errors.length > 0) {\n      for (var i = 0; i < errors.length; i++) {\n        if (typeof this.options.onError != 'undefined' && this.options.onError != null && this.options.onError) {\n          this.options.onError(errors[i]);\n        }\n      }\n\n      return;\n    }\n\n    if (next_id >= this.steps.length) {\n      if (typeof this.options.onFinish != 'undefined' && this.options.onFinish != null && this.options.onFinish) {\n        this.options.onFinish(current_id);\n      }\n      this.deactivate_step(current_id);\n    } else {\n      this.complete_step(current_id);\n      this.activate_step(next_id);\n    }\n  }\n\n  previous_step() {\n    var current_id = this.get_current_step_id();\n    if (current_id == null) {\n      return;\n    }\n\n    this.uncomplete_step(current_id - 1);\n    this.activate_step(current_id - 1);\n  }\n\n  /**\n   * Activate a single step,\n   * will deactivate all other steps.\n   */\n  activate_step(step_id) {\n    this.updateActions(this.steps[step_id]);\n\n    for (var i = 0; i < this.steps.length; i++) {\n      var _step = this.steps[i];\n\n      if (_step == this.steps[step_id]) {\n        continue;\n      }\n\n      this.deactivate_step(i);\n    }\n\n    this.steps[step_id].classList.add(this.options.active_class);\n    if (typeof this.contents[step_id] !== 'undefined') {\n      this.contents[step_id].classList.add(this.options.active_class);\n    }\n\n    if (typeof this.options.onShow != 'undefined' && this.options.onShow != null && this.options.onShow) {\n      this.options.onShow(step_id);\n    }\n  }\n\n  complete_step(step_id) {\n    this.steps[step_id].classList.add(this.options.completed_class);\n  }\n\n  uncomplete_step(step_id) {\n    this.steps[step_id].classList.remove(this.options.completed_class);\n  }\n\n  deactivate_step(step_id) {\n    this.steps[step_id].classList.remove(this.options.active_class);\n    if (typeof this.contents[step_id] !== 'undefined') {\n      this.contents[step_id].classList.remove(this.options.active_class);\n    }\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  var stepsContainers = document.querySelectorAll('.steps');\n  [].forEach.call(stepsContainers, (stepsContainer) => {\n    var stepsWizard = new StepsWizard(stepsContainer);\n  });\n});\n\nreturn StepsWizard;\n\n}());\n"]}